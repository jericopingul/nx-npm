const a0_0x4eb1=['cache-miss','collectTerminalOutput','runtime','scheduledTasks','slice','updateStartedTask','local-cache-hit','defineProperty','push','remote-cache-hit','status','terminalOutput','TRUNCATED\x0a\x0a','endTime','__esModule','local-cache-kept-existing','taskId','MAX_CHARACTERS_SUCCESSFUL_TASK','npm:','toISOString','nodes','path','remote-cache','local-cache','tasks','skipNxCache','getTerminalOutput','keys','../../../utilities/nx-imports','outputObfuscator','statuses','CloudEnabledLifeCycle','../../../utilities/environment','NX_CLOUD_UNLIMITED_OUTPUT','serializeOverrides','.cache','cacheStatus','hashDetails','join','cacheableOperations','terminalOutputs','startsWith','cleanUpHashDetails','params','toString','forEach','readFileSync','cacheDirectory','obfuscate','hash','endTask','code','length','Cannot\x20find\x20task\x20','node_modules','indexOf','MAX_CHARACTERS_FAILED_TASK','target','runContext','implicitDeps'];(function(_0x52deb8,_0x4eb1f3){const _0x4f5325=function(_0x34357a){while(--_0x34357a){_0x52deb8['push'](_0x52deb8['shift']());}};_0x4f5325(++_0x4eb1f3);}(a0_0x4eb1,0x1c0));const a0_0x4f53=function(_0x52deb8,_0x4eb1f3){_0x52deb8=_0x52deb8-0x0;let _0x4f5325=a0_0x4eb1[_0x52deb8];return _0x4f5325;};'use strict';Object[a0_0x4f53('0x27')](exports,a0_0x4f53('0x2e'),{'value':!![]});exports[a0_0x4f53('0x3')]=void 0x0;const path=require('path');const path_1=require(a0_0x4f53('0x35'));const fs_1=require('fs');const environment_1=require(a0_0x4f53('0x4'));const serializer_overrides_1=require('../../../utilities/serializer-overrides');const {workspaceRoot}=require(a0_0x4f53('0x0'));class CloudEnabledLifeCycle{constructor(_0x249d50,_0x5013fc,_0x2c9052,_0x5cb01b,_0x394ae4,_0x4bea77,_0x1ba0d6){this[a0_0x4f53('0x1e')]=_0x249d50;this[a0_0x4f53('0x13')]=_0x5013fc;this[a0_0x4f53('0x39')]=_0x2c9052;this[a0_0x4f53('0x21')]=_0x5cb01b;this[a0_0x4f53('0xb')]=_0x394ae4;this[a0_0x4f53('0x1')]=_0x4bea77;this[a0_0x4f53('0x38')]=_0x1ba0d6;}['scheduleTask'](_0x1a6d1e){this[a0_0x4f53('0x1e')][a0_0x4f53('0x23')][a0_0x4f53('0x28')](_0x1a6d1e);}['startTask'](_0x389faa){this[a0_0x4f53('0x38')][a0_0x4f53('0x28')]({'taskId':_0x389faa['id'],'startTime':new Date()[a0_0x4f53('0x33')](),'target':_0x389faa[a0_0x4f53('0x1d')]['target'],'projectName':_0x389faa[a0_0x4f53('0x1d')]['project'],'hash':_0x389faa[a0_0x4f53('0x15')],'hashDetails':this[a0_0x4f53('0xe')](_0x389faa[a0_0x4f53('0x9')]),'params':(0x0,serializer_overrides_1[a0_0x4f53('0x6')])(_0x389faa)});}[a0_0x4f53('0x16')](_0x1ec497,_0x3fdd58){let _0x46f99a;if(this[a0_0x4f53('0x1e')][a0_0x4f53('0x2')][_0x1ec497['hash']]){_0x46f99a=this[a0_0x4f53('0x1e')][a0_0x4f53('0x2')][_0x1ec497[a0_0x4f53('0x15')]];}else{if(this['cacheableOperations'][a0_0x4f53('0x1b')](_0x1ec497[a0_0x4f53('0x1d')][a0_0x4f53('0x1d')])>-0x1&&!this[a0_0x4f53('0x39')]){_0x46f99a=a0_0x4f53('0x26');}else{_0x46f99a=a0_0x4f53('0x20');}}this[a0_0x4f53('0x25')](_0x1ec497,_0x3fdd58,_0x46f99a);}['endTasks'](_0x4b1333){for(let _0x517bb6 of _0x4b1333){const _0x45ecc7=_0x517bb6['status']===a0_0x4f53('0x36')?a0_0x4f53('0x29'):_0x517bb6[a0_0x4f53('0x2a')]===a0_0x4f53('0x37')||_0x517bb6[a0_0x4f53('0x2a')]===a0_0x4f53('0x2f')?a0_0x4f53('0x26'):a0_0x4f53('0x20');this[a0_0x4f53('0x25')](_0x517bb6['task'],_0x517bb6[a0_0x4f53('0x17')],_0x45ecc7);}}['endCommand'](){}[a0_0x4f53('0x25')](_0x583991,_0x4d229e,_0x391ab1){const _0x42e94a=this['tasks']['find'](_0x327343=>_0x327343[a0_0x4f53('0x30')]===_0x583991['id']);if(!_0x42e94a){throw new Error(a0_0x4f53('0x19')+_0x583991['id']);}_0x42e94a[a0_0x4f53('0x2d')]=new Date()[a0_0x4f53('0x33')]();_0x42e94a[a0_0x4f53('0x2a')]=_0x4d229e;_0x42e94a[a0_0x4f53('0xf')]=this[a0_0x4f53('0x1')][a0_0x4f53('0x14')](_0x42e94a[a0_0x4f53('0xf')]);_0x42e94a[a0_0x4f53('0x8')]=_0x391ab1;if(this[a0_0x4f53('0x21')]){_0x42e94a['terminalOutput']=this['getTerminalOutput'](_0x583991[a0_0x4f53('0x15')],_0x42e94a[a0_0x4f53('0x8')],_0x4d229e);}}[a0_0x4f53('0x3a')](_0x535db1,_0x2674db,_0x29056d){let _0x55ba8c;if(this[a0_0x4f53('0x13')]){if(this[a0_0x4f53('0x13')]['startsWith']('./')){_0x55ba8c=(0x0,path_1['join'])(workspaceRoot,this[a0_0x4f53('0x13')]);}else{_0x55ba8c=this['cacheDirectory'];}}else{_0x55ba8c=(0x0,path_1[a0_0x4f53('0xa')])(workspaceRoot,a0_0x4f53('0x1a'),a0_0x4f53('0x7'),'nx');}try{const _0x3b0d3a=this['readTerminalOutputFile'](_0x55ba8c,_0x535db1);const _0x256b8b=this[a0_0x4f53('0x1')][a0_0x4f53('0x14')](_0x3b0d3a);if(environment_1[a0_0x4f53('0x5')])return _0x256b8b;const _0x5002e7=_0x2674db==='cache-miss'?_0x29056d===0x0?CloudEnabledLifeCycle[a0_0x4f53('0x31')]:CloudEnabledLifeCycle[a0_0x4f53('0x1c')]:CloudEnabledLifeCycle['MAX_CHARACTERS_CACHED_TASK'];return _0x256b8b['length']>_0x5002e7?a0_0x4f53('0x2c')+_0x256b8b[a0_0x4f53('0x24')](_0x256b8b[a0_0x4f53('0x18')]-_0x5002e7):_0x256b8b;}catch(_0x1d08c4){return'';}}['cleanUpHashDetails'](_0x22181d){const _0x2f0970={};Object[a0_0x4f53('0x3b')](_0x22181d[a0_0x4f53('0x34')])['filter'](_0x4c8f9b=>!_0x4c8f9b[a0_0x4f53('0xd')](a0_0x4f53('0x32')))[a0_0x4f53('0x11')](_0x5a21ba=>{_0x2f0970[_0x5a21ba]=_0x22181d['nodes'][_0x5a21ba];});return{'nodes':_0x2f0970,'runtime':_0x22181d[a0_0x4f53('0x22')],'implicitDeps':_0x22181d[a0_0x4f53('0x1f')]};}['readTerminalOutputFile'](_0x178b1f,_0x1b0597){try{return(0x0,fs_1['readFileSync'])(path[a0_0x4f53('0xa')](_0x178b1f,a0_0x4f53('0xc'),_0x1b0597))[a0_0x4f53('0x10')]();}catch(_0x89fada){try{return(0x0,fs_1[a0_0x4f53('0x12')])(path['join'](_0x178b1f,_0x1b0597,a0_0x4f53('0x2b')))[a0_0x4f53('0x10')]();}catch(_0x3ec30f){return'';}}}}exports[a0_0x4f53('0x3')]=CloudEnabledLifeCycle;CloudEnabledLifeCycle[a0_0x4f53('0x1c')]=0x30d40;CloudEnabledLifeCycle[a0_0x4f53('0x31')]=0x4e20;CloudEnabledLifeCycle['MAX_CHARACTERS_CACHED_TASK']=0x4e20;