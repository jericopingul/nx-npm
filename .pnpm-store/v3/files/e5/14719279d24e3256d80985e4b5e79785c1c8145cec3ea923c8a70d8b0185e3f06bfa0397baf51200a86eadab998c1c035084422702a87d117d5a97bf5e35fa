const a2_0x1cd7=['done','map','statuses','hashUrls','storeRequests','Nx\x20Cloud:\x20Cache\x20miss\x20','get','messages','fileStorage','push','Nx\x20Cloud:\x20Skipping\x20storing\x20','__awaiter','extractErrorMessage','requests','NX_CLOUD_DISTRIBUTED_EXECUTION_ID','defineProperty','store','VERBOSE_LOGGING','api','__esModule','startRun','then','note','resolve','remote-cache-hit','waitForStoreRequestsToComplete','cacheError','apply','../../../utilities/environment','next','indexOf','axiosException','retrieve','storage','CloudRemoteCache','reduce','runContext','status','hash','response','value','../../../utilities/nx-imports','scheduledTasks','cache-miss'];(function(_0x1b9b49,_0x1cd711){const _0x445577=function(_0x27e548){while(--_0x27e548){_0x1b9b49['push'](_0x1b9b49['shift']());}};_0x445577(++_0x1cd711);}(a2_0x1cd7,0xd8));const a2_0x4455=function(_0x1b9b49,_0x1cd711){_0x1b9b49=_0x1b9b49-0x0;let _0x445577=a2_0x1cd7[_0x1b9b49];return _0x445577;};'use strict';var __awaiter=this&&this[a2_0x4455('0xf')]||function(_0x301ebf,_0x1a0843,_0x4ef03f,_0xe752ff){function _0x4365f9(_0x593437){return _0x593437 instanceof _0x4ef03f?_0x593437:new _0x4ef03f(function(_0x1ae45f){_0x1ae45f(_0x593437);});}return new(_0x4ef03f||(_0x4ef03f=Promise))(function(_0x198f21,_0x32a175){function _0x59bb89(_0x563177){try{_0x3ffbc5(_0xe752ff['next'](_0x563177));}catch(_0x2d9edb){_0x32a175(_0x2d9edb);}}function _0x5b1b74(_0x17ef58){try{_0x3ffbc5(_0xe752ff['throw'](_0x17ef58));}catch(_0x5a6dd1){_0x32a175(_0x5a6dd1);}}function _0x3ffbc5(_0x287909){_0x287909[a2_0x4455('0x4')]?_0x198f21(_0x287909[a2_0x4455('0x0')]):_0x4365f9(_0x287909[a2_0x4455('0x0')])['then'](_0x59bb89,_0x5b1b74);}_0x3ffbc5((_0xe752ff=_0xe752ff[a2_0x4455('0x1f')](_0x301ebf,_0x1a0843||[]))[a2_0x4455('0x21')]());});};Object[a2_0x4455('0x13')](exports,a2_0x4455('0x17'),{'value':!![]});exports[a2_0x4455('0x26')]=void 0x0;const environment_1=require(a2_0x4455('0x20'));const {output}=require(a2_0x4455('0x1'));class CloudRemoteCache{constructor(_0x3f8c7a,_0x35b030,_0xb1df1f,_0xb3e8ba){this[a2_0x4455('0xb')]=_0x3f8c7a;this[a2_0x4455('0x16')]=_0x35b030;this['runContext']=_0xb1df1f;this[a2_0x4455('0xc')]=_0xb3e8ba;this[a2_0x4455('0x8')]=[];}[a2_0x4455('0x24')](_0x4ede31,_0x4834db){var _0x8e290e;return __awaiter(this,void 0x0,void 0x0,function*(){if(this[a2_0x4455('0xb')][a2_0x4455('0x1e')])return![];const _0x199c2b=yield this['hashUrls'](_0x4ede31);if(!_0x199c2b||!_0x199c2b[a2_0x4455('0xa')]){if(environment_1['VERBOSE_LOGGING']){output[a2_0x4455('0x1a')]({'title':a2_0x4455('0x9')+_0x4ede31+'.'});}this['runContext'][a2_0x4455('0x6')][_0x4ede31]=a2_0x4455('0x3');return![];}try{yield this[a2_0x4455('0xc')]['retrieve'](_0x4ede31,_0x199c2b[a2_0x4455('0xa')],_0x4834db);this[a2_0x4455('0x28')][a2_0x4455('0x6')][_0x4ede31]=a2_0x4455('0x1c');return!![];}catch(_0xea0a3e){const _0x5934e3=(_0x8e290e=_0xea0a3e[a2_0x4455('0x23')])!==null&&_0x8e290e!==void 0x0?_0x8e290e:_0xea0a3e;if(_0x5934e3[a2_0x4455('0x2b')]&&_0x5934e3[a2_0x4455('0x2b')][a2_0x4455('0x29')]===0x194){if(environment_1[a2_0x4455('0x15')]){output[a2_0x4455('0x1a')]({'title':a2_0x4455('0x9')+_0x4ede31+'.\x20Status\x20404.'});}}else{this[a2_0x4455('0xb')][a2_0x4455('0x1e')]=this['messages'][a2_0x4455('0x10')](_0x5934e3,a2_0x4455('0x25'));}this[a2_0x4455('0x28')][a2_0x4455('0x6')][_0x4ede31]=a2_0x4455('0x3');return![];}});}['store'](_0x1ea256,_0x250007){return __awaiter(this,void 0x0,void 0x0,function*(){if(this[a2_0x4455('0xb')][a2_0x4455('0x1e')])return![];const _0x1ef349=Promise[a2_0x4455('0x1b')]()[a2_0x4455('0x19')](()=>__awaiter(this,void 0x0,void 0x0,function*(){var _0x34af5d;const _0x1190f1=yield this[a2_0x4455('0x7')](_0x1ea256);if(!_0x1190f1)return![];if(!_0x1190f1['put']){if(environment_1[a2_0x4455('0x15')]){output[a2_0x4455('0x1a')]({'title':a2_0x4455('0xe')+_0x1ea256+'.\x20Read\x20only\x20token\x20is\x20used.'});}return!![];}try{yield this['fileStorage'][a2_0x4455('0x14')](_0x1ea256,_0x1190f1['put'],_0x250007);return!![];}catch(_0x530007){const _0x541689=(_0x34af5d=_0x530007[a2_0x4455('0x23')])!==null&&_0x34af5d!==void 0x0?_0x34af5d:_0x530007;this['messages'][a2_0x4455('0x1e')]=this[a2_0x4455('0xb')][a2_0x4455('0x10')](_0x541689,a2_0x4455('0x25'));return![];}}));this['storeRequests']['push'](_0x1ef349);return _0x1ef349;});}['hashUrls'](_0xa323ff){return __awaiter(this,void 0x0,void 0x0,function*(){if(_0xa323ff in this['runContext'][a2_0x4455('0x11')]){return(yield this[a2_0x4455('0x28')]['requests'][_0xa323ff])[_0xa323ff];}else{const _0x486d18=this[a2_0x4455('0x28')][a2_0x4455('0x2')]['filter'](_0x4b2ec0=>!this['runContext'][a2_0x4455('0x11')][_0x4b2ec0[a2_0x4455('0x2a')]])[a2_0x4455('0x5')](_0x2a0ec7=>_0x2a0ec7[a2_0x4455('0x2a')]);if(_0x486d18[a2_0x4455('0x22')](_0xa323ff)===-0x1){_0x486d18[a2_0x4455('0xd')](_0xa323ff);}const _0x54df7a=this[a2_0x4455('0x16')][a2_0x4455('0x18')](environment_1[a2_0x4455('0x12')],_0x486d18);_0x486d18['forEach'](_0x5e28dd=>{this[a2_0x4455('0x28')][a2_0x4455('0x11')][_0x5e28dd]=_0x54df7a;});return(yield _0x54df7a)[_0xa323ff];}});}[a2_0x4455('0x1d')](){return Promise['all'](this[a2_0x4455('0x8')])[a2_0x4455('0x19')](_0x11aae2=>_0x11aae2[a2_0x4455('0x27')]((_0x5125c6,_0x1f636f)=>_0x5125c6&&_0x1f636f,!![]));}}exports[a2_0x4455('0x26')]=CloudRemoteCache;